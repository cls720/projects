(window.webpackJsonpzhcCmps=window.webpackJsonpzhcCmps||[]).push([[5],{226:function(i,e,n){"use strict";var o=n(53);n.n(o).a},227:function(i,e,n){(i.exports=n(4)(!1)).push([i.i,".social-signup-container[data-v-2b33be98]{margin:20px 0}.social-signup-container .sign-btn[data-v-2b33be98]{display:inline-block;cursor:pointer}.social-signup-container .icon[data-v-2b33be98]{color:#fff;font-size:24px;margin-top:8px}.social-signup-container .wx-svg-container[data-v-2b33be98],.social-signup-container .qq-svg-container[data-v-2b33be98]{display:inline-block;width:40px;height:40px;line-height:40px;text-align:center;padding-top:1px;border-radius:4px;margin-bottom:20px;margin-right:5px}.social-signup-container .wx-svg-container[data-v-2b33be98]{background-color:#24da70}.social-signup-container .qq-svg-container[data-v-2b33be98]{background-color:#6BA2D6;margin-left:50px}\n",""])},228:function(i,e,n){i.exports=n.p+"e20679b5acf96f5d807e50e9dbea0108.jpg"},229:function(i,e,n){i.exports=n.p+"9e5d3516594fa52e14a6415e59568ed5.png"},230:function(i,e,n){i.exports=n.p+"7c36c082ffc7ace9771a3a1f11778d2b.png"},231:function(i,e,n){i.exports=n.p+"cead9cb7a2129010d013d53040b63992.png"},232:function(i,e,n){i.exports=n.p+"f6e508b24e86543ec2d2da4f8dcb9cdd.png"},233:function(i,e,n){"use strict";var o=n(54);n.n(o).a},234:function(i,e,n){(i.exports=n(4)(!1)).push([i.i,"@supports (-webkit-mask: none) and (not (caret-color: #333)){.login-container .el-input input[data-v-37dfd6fc]{color:#333}.login-container .el-input input[data-v-37dfd6fc]::first-line{color:#eee}}.login-container[data-v-37dfd6fc]{min-height:100%;width:100%;background-color:#2d3a4b;overflow:hidden;color:#fff}.login-container .el-header[data-v-37dfd6fc]{border-bottom:1px solid #fff}.login-container .el-header .login-head[data-v-37dfd6fc]{height:100%}.login-container .el-header .login-head .login-logo[data-v-37dfd6fc]{font-size:28px;cursor:pointer}.login-container .el-header .login-head .login-logo .hc-image-title[data-v-37dfd6fc]{vertical-align:middle;margin-right:0.5em;display:inline-block}.login-container .el-header .login-head .set-language[data-v-37dfd6fc]{font-size:24px;cursor:pointer;float:right;color:#fff}.login-container .el-main[data-v-37dfd6fc]{display:flex;background-size:100% auto;background-repeat:no-repeat}.login-container .el-main .login-main[data-v-37dfd6fc]{width:80%;min-width:1200px;position:relative;margin:0 auto}.login-container .el-main .login-main .eap-desc[data-v-37dfd6fc]{position:absolute;height:450px;top:0;bottom:0;left:0;width:calc(100% - 380px - 20px);margin:auto;padding:20px;display:flex;align-items:center}.login-container .el-main .login-main .eap-desc .eap-main-image[data-v-37dfd6fc]{position:relative;float:left}.login-container .el-main .login-main .eap-desc .eap-main-image .eap-main-imageDesc[data-v-37dfd6fc]{position:absolute;width:200px;height:122px;top:0;left:0;right:0;bottom:0;margin:auto;text-align:center;transform:translateY(25px)}.login-container .el-main .login-main .eap-desc .eap-main-image .eap-main-imageDesc h2[data-v-37dfd6fc]{color:#ffcc00;font-size:38px;line-height:70px;margin:0}.login-container .el-main .login-main .eap-desc .eap-main-image .eap-main-imageDesc p[data-v-37dfd6fc]{color:#fff;font-size:30px;line-height:52px;margin:0}.login-container .el-main .login-main .eap-desc .eap-login-info[data-v-37dfd6fc]{float:left;width:314px;color:#fff;padding-left:30px;padding-top:70px}.login-container .el-main .login-main .eap-desc .eap-login-info ul[data-v-37dfd6fc]{list-style:none;overflow:hidden;margin:0;padding:0}.login-container .el-main .login-main .eap-desc .eap-login-info ul li[data-v-37dfd6fc]{float:left;height:128px;width:68px;background-repeat:no-repeat;line-height:215px;font-size:16px;text-align:center;margin-right:10px}.login-container .el-main .login-main .eap-desc .eap-login-info h2[data-v-37dfd6fc]{line-height:64px;font-size:38px;margin:0;font-weight:normal}.login-container .el-main .login-main .eap-desc .eap-login-info p[data-v-37dfd6fc]{line-height:26px;font-size:14px;margin:0}.login-container .el-main .login-main .login-form[data-v-37dfd6fc]{position:absolute;top:0;bottom:0;right:0;width:380px;height:320px;padding:25px;margin:auto;overflow:hidden;background-color:#fff;padding-top:10px}.login-container .el-main .login-main .login-form .qrlogin[data-v-37dfd6fc]{height:calc(100% - 70px)}.login-container .el-main .login-main .login-form .qrlogin .qrImg[data-v-37dfd6fc]{height:140px;width:140px;margin:20px auto;position:relative;font-size:14px}.login-container .el-main .login-main .login-form .qrlogin .qrImg .qrSuccess[data-v-37dfd6fc]{text-align:center;color:#0073BE;line-height:150px}.login-container .el-main .login-main .login-form .qrlogin .qrImg img[data-v-37dfd6fc]{height:100%;width:100%}.login-container .el-main .login-main .login-form .qrlogin .qrImg .qrcode_error[data-v-37dfd6fc]{background:rgba(255,255,255,0.95);position:absolute;left:0;top:0;z-index:9999;width:100%;height:100%}.login-container .el-main .login-main .login-form .qrlogin .qrImg .qrcode_error p[data-v-37dfd6fc]{color:#222;margin-top:38px;margin-bottom:8px;text-align:center}.login-container .el-main .login-main .login-form .qrlogin .qrImg .qrcode_error .refresh[data-v-37dfd6fc]{width:110px;height:34px;line-height:34px;text-align:center;margin:0 auto;background-color:#0073BE;border:none;display:block;color:#fff;border-radius:3px;font-size:14px;cursor:pointer}.login-container .el-main .login-main .login-form .qrlogin .qrDesc[data-v-37dfd6fc]{font-size:12px;color:#666;width:160px;margin:auto;overflow:hidden;line-height:17px}.login-container .el-main .login-main .login-form .qrlogin .qrDesc .qrDesc_icon[data-v-37dfd6fc]{color:#0073BE;font-size:34px;vertical-align:middle;margin-right:15px;float:left}.login-container .el-main .login-main .login-form .el-input[data-v-37dfd6fc]{display:inline-block;height:47px;width:100%}.login-container .el-main .login-main .login-form .el-input[data-v-37dfd6fc] input{background:#fff;border:1px solid #d7d8d9;-webkit-appearance:none;border-radius:5px;padding:12px 30px;color:#333;height:47px;caret-color:#333}.login-container .el-main .login-main .login-form .el-input[data-v-37dfd6fc] input:-webkit-autofill{-webkit-box-shadow:0 0 0px 1000px #2d3a4b inset !important;-webkit-text-fill-color:#333 !important}.login-container .el-main .login-main .login-form .el-input[data-v-37dfd6fc] input:hover,.login-container .el-main .login-main .login-form .el-input[data-v-37dfd6fc] input:focus{border-color:#409eff}.login-container .el-main .login-main .login-form .el-form-item[data-v-37dfd6fc]{color:#454545}.login-container .el-main .login-main .login-form .el-form-item img[data-v-37dfd6fc]{width:131px;float:right;cursor:pointer}.login-container .el-main .login-main .login-form .qr_trigger[data-v-37dfd6fc]{height:40px;width:40px;position:absolute;top:15px;right:25px;font-size:40px;color:#333;cursor:pointer;z-index:99}.login-container .el-main .login-main .login-form .qr_trigger .login-tip[data-v-37dfd6fc]{position:absolute;top:0;left:-80px;display:block}.login-container .el-main .login-main .login-form .qr_trigger .login-tip .poptip[data-v-37dfd6fc]{background-color:#e6f9fc;line-height:16px;position:relative;z-index:9999;border:1px solid #0073BE;padding:5px 10px}.login-container .el-main .login-main .login-form .qr_trigger .login-tip .poptip .poptip-arrow[data-v-37dfd6fc]{position:absolute;z-index:10;top:8px;right:0}.login-container .el-main .login-main .login-form .qr_trigger .login-tip .poptip .poptip-arrow em[data-v-37dfd6fc],.login-container .el-main .login-main .login-form .qr_trigger .login-tip .poptip .poptip-arrow span[data-v-37dfd6fc]{position:absolute;width:0;height:0;border-color:rgba(255,255,255,0);border-style:solid;overflow:hidden;top:0;left:0;border-width:6px 0 6px 6px}.login-container .el-main .login-main .login-form .qr_trigger .login-tip .poptip .poptip-arrow em[data-v-37dfd6fc]{left:1px;border-left-color:#0073BE}.login-container .el-main .login-main .login-form .qr_trigger .login-tip .poptip .poptip-arrow span[data-v-37dfd6fc]{border-left-color:#e6f9fc}.login-container .el-main .login-main .login-form .qr_trigger .login-tip .poptip .poptip-content[data-v-37dfd6fc]{font-size:12px;font-weight:400;color:#0073BE}.login-container .el-main .login-main .el-form-item.is-success input[data-v-37dfd6fc]{border-color:#409eff}.login-container .el-main .login-main .tips[data-v-37dfd6fc]{font-size:14px;margin-bottom:10px}.login-container .el-main .login-main .tips span[data-v-37dfd6fc]:first-of-type{margin-right:16px}.login-container .el-main .login-main .svg-container[data-v-37dfd6fc],.login-container .el-main .login-main .show-pwd[data-v-37dfd6fc]{color:#889aa4;vertical-align:middle;width:30px;height:30px;line-height:30px;text-align:center;display:inline-block;position:absolute;top:0;bottom:0;left:0;z-index:9;margin:auto}.login-container .el-main .login-main .title-container[data-v-37dfd6fc]{position:relative}.login-container .el-main .login-main .title-container .title[data-v-37dfd6fc]{font-size:18px;line-height:40px;color:#889aa4;margin:0 0 30px 0}.login-container .el-main .login-main .show-pwd[data-v-37dfd6fc]{right:0;left:unset;cursor:pointer;user-select:none}.login-container .el-footer[data-v-37dfd6fc]{background-color:#4f5e71;text-align:center;line-height:60px;font-size:14px}.login-container .thirdparty-button[data-v-37dfd6fc]{position:absolute;right:0;bottom:6px}\n",""])},453:function(i,e,n){"use strict";n.r(e);var o=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("el-container",{staticClass:"login-container"},[n("el-header",[n("el-row",{staticClass:"login-head",attrs:{type:"flex",align:"middle"}},[n("el-col",{attrs:{span:4}},[n("div",{staticClass:"login-logo"},[n("hc-image-title",{attrs:{"image-url":i.hcCloudLogo,width:"46px",height:"46px"}}),i._v("报表决策系统\n        ")],1)]),i._v(" "),n("el-col",{attrs:{span:2,offset:18}},[n("lang-select",{staticClass:"set-language"})],1)],1)],1),i._v(" "),n("el-main",{style:{"background-image":i.loginBgImg}},[n("div",{staticClass:"login-main"},[n("el-form",{ref:"loginForm",staticClass:"login-form",style:i.isVerifyCode?"height:355px;":"",attrs:{model:i.loginForm,rules:i.loginRules,"auto-complete":"on","label-position":"left"}},[n("div",{staticClass:"qr_trigger",attrs:{id:"login_trigger"}},[n("div",{staticClass:"login-tip"},[n("div",{staticClass:"poptip"},[n("div",{staticClass:"poptip-arrow"},[n("em"),i._v(" "),n("span")]),i._v(" "),n("div",{staticClass:"poptip-content"},[i._v(i._s(i.loginType[1].title))])])]),i._v(" "),n("svg-icon",{attrs:{"icon-class":i.loginType[1].name},on:{click:i.loginTrigger}})],1),i._v(" "),n("div",{staticClass:"title-container"},[n("h3",{staticClass:"title"},[i._v(i._s(i.loginType[0].title))])]),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"pc"==i.loginType[0].name,expression:"loginType[0].name=='pc'"}],staticClass:"pclogin"},[n("el-form-item",{attrs:{prop:"username"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"user"}})],1),i._v(" "),n("el-input",{ref:"username",attrs:{placeholder:i.$t("login.username"),name:"username",type:"text","auto-complete":"on",size:"large"},model:{value:i.loginForm.username,callback:function(e){i.$set(i.loginForm,"username",e)},expression:"loginForm.username"}})],1),i._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"password"}})],1),i._v(" "),n("el-input",{ref:"password",attrs:{type:i.passwordType,placeholder:i.$t("login.password"),name:"password","auto-complete":"on",size:"large"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"enter",13,e.key,"Enter")?null:i.handleLogin(e)}},model:{value:i.loginForm.password,callback:function(e){i.$set(i.loginForm,"password",e)},expression:"loginForm.password"}}),i._v(" "),n("span",{staticClass:"show-pwd",on:{click:i.showPwd}},[n("svg-icon",{attrs:{"icon-class":"password"===i.passwordType?"eye":"eye-open"}})],1)],1),i._v(" "),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:i.isVerifyCode,expression:"isVerifyCode"}],attrs:{prop:"verifyCode"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"verifyCode"}})],1),i._v(" "),n("el-input",{ref:"verifyCode",staticStyle:{width:"calc(100% - 136px)"},attrs:{type:"text",placeholder:"验证码",name:"verifyCode",size:"large"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&i._k(e.keyCode,"enter",13,e.key,"Enter")?null:i.handleLogin(e)}},model:{value:i.loginForm.verifyCode,callback:function(e){i.$set(i.loginForm,"verifyCode",e)},expression:"loginForm.verifyCode"}}),i._v(" "),n("img",{ref:"verifyCodeImg",attrs:{src:"",title:"点击切换验证码"},on:{click:i.resetVerifyCode}})],1),i._v(" "),n("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:i.loading,size:"large",type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),i.handleLogin(e)}}},[i._v(i._s(i.$t("login.logIn")))])],1),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"qrcode"==i.loginType[0].name,expression:"loginType[0].name=='qrcode'"}],staticClass:"qrlogin"},[n("div",{staticClass:"qrImg"},[n("p",{directives:[{name:"show",rawName:"v-show",value:i.isQrSuccess,expression:"isQrSuccess"}],staticClass:"qrSuccess"},[i._v("登陆成功！")]),i._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:!i.isQrSuccess,expression:"!isQrSuccess"}],attrs:{src:i.qrloginImg}}),i._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:i.isQrError,expression:"isQrError"}],staticClass:"qrcode_error"},[n("p",[i._v("二维码失效")]),i._v(" "),n("button",{staticClass:"refresh",attrs:{type:"button"}},[i._v("刷新二维码")])])]),i._v(" "),n("p",{staticClass:"qrDesc"},[n("svg-icon",{staticClass:"qrDesc_icon",attrs:{"icon-class":"saoma"}}),i._v("\n            打开"),n("a",[i._v("海创云")]),i._v("APP"),n("br"),i._v("扫一扫登录\n          ")],1)])])],1)]),i._v(" "),n("el-footer",[i._v("版权所有 © 2018-2025 中海创集团")])],1)};o._withStripped=!0;n(45),n(24),n(1);var t=n(22),a=n.n(t),r=(n(44),n(48)),l=n(79),s=n(34),c=n(81),d=n.n(c),g=n(109),p=function(){var i=this,e=i.$createElement,n=i._self._c||e;return n("div",{staticClass:"social-signup-container"},[n("div",{staticClass:"sign-btn",on:{click:function(e){return i.wechatHandleClick("wechat")}}},[n("span",{staticClass:"wx-svg-container"},[n("svg-icon",{staticClass:"icon",attrs:{"icon-class":"wechat"}})],1),i._v("\n    WeChat\n  ")]),i._v(" "),n("div",{staticClass:"sign-btn",on:{click:function(e){return i.tencentHandleClick("tencent")}}},[n("span",{staticClass:"qq-svg-container"},[n("svg-icon",{staticClass:"icon",attrs:{"icon-class":"qq"}})],1),i._v("\n    QQ\n  ")])])};p._withStripped=!0;var f={name:"SocialSignin",methods:{wechatHandleClick:function(i){alert("ok")},tencentHandleClick:function(i){alert("ok")}}},m=(n(226),n(0)),u=Object(m.a)(f,p,[],!1,null,"2b33be98",null);u.options.__file="src/views/login/components/SocialSignin.vue";var h=u.exports,v=n(35),x=n(78),w=n.n(x);n(149);d.a.defaults.withCredentials=!0;var b,y={name:"Login",components:{LangSelect:g.a,SocialSign:h,HcImageTitle:l.a},data:function(){var i=this;return{hcCloudLogo:"url("+n(251)+")",loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:function(i,e,n){Object(s.b)(e)?n():n(new Error("请输入正确的账号"))}}],password:[{required:!0,trigger:"blur",validator:function(i,e,n){e&&e.length<6?n(new Error("密码不能少于6位")):n()}}],verifyCode:[{required:!0,trigger:"blur",validator:function(e,n,o){i.isVerifyCode?n&&4==n.length?o():o(new Error("请输入4位验证码")):o()}}]},passwordType:"password",capsTooltip:!1,loading:!1,showDialog:!1,redirect:void 0,loginBgImg:"url("+n(228)+")",loginMainImg:"url("+n(229)+")",mainImageDesc1:"开源、免费",mainImageDesc2:"开发平台",loginInfoImgGroup:[{ico:"url("+n(230)+")",desc:"快速"},{ico:"url("+n(231)+")",desc:"易用"},{ico:"url("+n(232)+")",desc:"灵活"}],loginInfoTitle:"全栈解决方案",loginInfoText:"可视化开发工具、前端框架、开箱即用组件、规范化项目管理方案、在线领域建设",loginType:[{name:"pc",title:"密码登录"},{name:"qrcode",title:"扫码登录"}],qrloginImg:"",isQrError:!1,isVerifyCode:!1,isQrSuccess:!1,errorCount:0,linkHost:location.hostname+":91"}},watch:{$route:{handler:function(i){this.redirect=i.query&&i.query.redirect},immediate:!0}},created:function(){},mounted:function(){""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus()},destroyed:function(){},methods:{checkCapslock:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=i.shiftKey,n=i.key;n&&1===n.length&&(this.capsTooltip=!!(e&&n>="a"&&n<="z"||!e&&n>="A"&&n<="Z")),"CapsLock"===n&&!0===this.capsTooltip&&(this.capsTooltip=!1)},showPwd:function(){"password"===this.passwordType?this.passwordType="":this.passwordType="password"},handleLogin:(b=Object(r.a)(a.a.mark(function i(){var e,n,o=this;return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e=!1,this.$refs.loginForm.validate(function(i){e=!!i}),!e){i.next=23;break}if(!(this.errorCount>=3&&this.loginForm.verifyCode)){i.next=19;break}return i.prev=4,i.next=7,this.checkVerifyCode({code:this.loginForm.verifyCode});case 7:if((n=i.sent).data.success){i.next=12;break}return this.$message.error(n.data.msg),this.resetVerifyCode(),i.abrupt("return",!1);case 12:i.next=19;break;case 14:return i.prev=14,i.t0=i.catch(4),this.$message.error("验证出错"),this.resetVerifyCode(),i.abrupt("return",!1);case 19:this.loading=!0,this.$store.dispatch("user/login",{username:this.loginForm.username,password:w()(this.loginForm.password)}).then(function(){o.$router.push({path:o.redirect||"/"}),o.loading=!1}).catch(function(){o.loading=!1,o.errorCount++,o.errorCount>=3&&(o.isVerifyCode=!0,o.resetVerifyCode())}),i.next=25;break;case 23:return console.log("error submit!!"),i.abrupt("return",!1);case 25:case"end":return i.stop()}},i,this,[[4,14]])})),function(){return b.apply(this,arguments)}),afterQRScan:function(){},loginTrigger:function(){"pc"==this.loginType[0].name&&this.loadQrCode(),this.loginType.reverse()},loadQrCode:function(){var i=this,e=this.RndNum(6)+"USER",n=btoa("webSocket-192.168.4.194:5101-"+e);this.qrloginImg="http://"+this.linkHost+"/web/cxf/WebServiceWadl/QRCodeService/encodeQRCode?message="+n;var o=null;"WebSocket"in window?o=new WebSocket("ws://192.168.4.194:5101/eaptpl/webSocket/login/"+e):alert("Not support websocket"),o.onerror=function(){console.log("error")},o.onopen=function(i){console.log("open")},o.onmessage=function(e){e.data&&(i.isQrSuccess=!0,i.$store.commit("user/SET_TOKEN",e.data),Object(v.c)(e.data),i.$router.push({path:i.redirect||"/"}))},o.onclose=function(){console.log("close")},window.onbeforeunload=function(){o.close()}},RndNum:function(i){for(var e="",n=0;n<i;n++)e+=Math.floor(10*Math.random());return e},resetVerifyCode:function(){var i="http://"+this.linkHost+"/web/cxf/WebServiceWadl/QRCodeService/getCode";this.$refs.verifyCodeImg.src=i+"?"+this.RndNum(4)},checkVerifyCode:function(i){var e=this;return new Promise(function(n,o){d.a.get("http://"+e.linkHost+"/web/cxf/WebServiceWadl/QRCodeService/verifyCode",{params:i}).then(function(i){n(i)}).catch(function(i){o(i)})})}}},C=(n(233),Object(m.a)(y,o,[],!1,null,"37dfd6fc",null));C.options.__file="src/views/login/index.vue";e.default=C.exports},53:function(i,e,n){var o=n(227);"string"==typeof o&&(o=[[i.i,o,""]]);var t={insert:"head",singleton:!1};n(5)(o,t);o.locals&&(i.exports=o.locals)},54:function(i,e,n){var o=n(234);"string"==typeof o&&(o=[[i.i,o,""]]);var t={insert:"head",singleton:!1};n(5)(o,t);o.locals&&(i.exports=o.locals)}}]);